<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Conectar MetaMask</title>
  <style>
    body { font-family: Inter, system-ui, sans-serif; background:#f8fafc; color:#111827; text-align:center; padding:40px; }
    button { padding:12px 20px; background:#2563eb; color:white; border:none; border-radius:10px; font-size:1rem; cursor:pointer; }
    button:hover { background:#1d4ed8; }
    #account, #network { margin-top:15px; font-size:0.95rem; }
  </style>
</head>
<body>
  <h1>üîó Conectar con MetaMask (Sepolia)</h1>
  <button id="connectBtn">Conectar MetaMask</button>
  <p id="account">No conectado</p>
  <p id="network"></p>

  <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
  <script>
    const connectBtn = document.getElementById('connectBtn');
    const accountEl = document.getElementById('account');
    const networkEl = document.getElementById('network');
    const SEPOLIA_CHAIN_ID = 11155111;

    connectBtn.addEventListener('click', async () => {
      if (!window.ethereum) {
        alert('MetaMask no est√° instalada. Inst√°lala desde https://metamask.io/');
        return;
      }

      try {
        const provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []); // pide conexi√≥n
        const signer = provider.getSigner();
        const address = await signer.getAddress();
        accountEl.textContent = `Conectado: ${address}`;

        const network = await provider.getNetwork();
        networkEl.textContent = `Red: ${network.name} (chainId: ${network.chainId})`;

        if (network.chainId !== SEPOLIA_CHAIN_ID) {
          networkEl.textContent += " ‚ö†Ô∏è Cambia MetaMask a Sepolia Testnet";
        }
      } catch (err) {
        console.error(err);
        accountEl.textContent = 'Error conectando con MetaMask.';
      }
    });
  </script>
</body>
</html>
